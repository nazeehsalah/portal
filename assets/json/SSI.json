{
  "questionRules": "//----------------------------------------------------------------------------------\n// Rule outpatient SSI vs Inpatient - ask for infection type and date of infection \n//----------------------------------------------------------------------------------  \nquestionObject[\"ssi_out_ssi_type\"].show = false; questionObject[\"ssi_out_ssi_doi\"].show = false\nquestionObject[\"date_operation\"].show = false; questionObject[\"surg_type\"].show = false\nif (questionObject[\"p_surgical_op_q\"].answer == \"outpatient\")\n{\n    questionObject[\"ssi_out_ssi_type\"].show = true; questionObject[\"ssi_out_ssi_doi\"].show = true\n    questionObject[\"date_operation\"].show = true; questionObject[\"surg_type\"].show = true\n}\nif (questionObject[\"p_surgical_op_q\"].answer == \"inpatient\")\n{\n    questionObject[\"date_operation\"].show = true; questionObject[\"surg_type\"].show = true\n}\n//----------------------------------------------------------------------------------------------------\n// Rule ask for surgery type then calculate infection period based on operation type  \n//----------------------------------------------------------------------------------------------------\nquestionObject[\"surg_Cardiothoracic\"].show = false; questionObject[\"surg_Vascular\"].show = false; questionObject[\"surg_Obstetrics/Gynecology\"].show = false\nquestionObject[\"surg_Urology\"].show = false; questionObject[\"surg_Orthopedics\"].show = false; questionObject[\"surg_General\"].show = false\nquestionObject[\"surg_Neurosurgery\"].show = false\n//\nif (questionObject[\"surg_type\"].answer == \"Cardiothoracic surgery\"){questionObject[\"surg_Cardiothoracic\"].show = true}\nif (questionObject[\"surg_type\"].answer == \"Vascular surgery\"){questionObject[\"surg_Vascular\"].show = true}\nif (questionObject[\"surg_type\"].answer == \"Obstetrics/Gynecology surgery\"){questionObject[\"surg_Obstetrics/Gynecology\"].show = true}\nif (questionObject[\"surg_type\"].answer == \"Urology surgery\"){questionObject[\"surg_Urology\"].show = true}\nif (questionObject[\"surg_type\"].answer == \"Orthopedics surgery\"){questionObject[\"surg_Orthopedics\"].show = true}\nif (questionObject[\"surg_type\"].answer == \"General Surgery\"){questionObject[\"surg_General\"].show = true}\nif (questionObject[\"surg_type\"].answer == \"Neurosurgery\"){questionObject[\"surg_Neurosurgery\"].show = true}\n//         ssi period 30 or 90 based on sub type of surgery \nquestionObject[\"ssi_max1_date\"].answer = new Date(questionObject[\"date_operation\"].answer)\nquestionObject[\"ssi_max1_date\"].answer = new Date(questionObject[\"ssi_max1_date\"].answer.setDate(questionObject[\"ssi_max1_date\"].answer.getDate() + 31)).toISOString()  \n//\nif (questionObject[\"surg_Cardiothoracic\"].show == true && (questionObject[\"surg_90days\"].answer_list.includes(questionObject[\"surg_Cardiothoracic\"].answer)))\n{\n    questionObject[\"ssi_max1_date\"].answer = new Date(questionObject[\"date_operation\"].answer)\n    questionObject[\"ssi_max1_date\"].answer = new Date(questionObject[\"ssi_max1_date\"].answer.setDate(questionObject[\"ssi_max1_date\"].answer.getDate() + 91)).toISOString()  \n}\nif (questionObject[\"surg_Vascular\"].show == true && (questionObject[\"surg_90days\"].answer_list.includes(questionObject[\"surg_Vascular\"].answer)))\n{\n    questionObject[\"ssi_max1_date\"].answer = new Date(questionObject[\"date_operation\"].answer)\n    questionObject[\"ssi_max1_date\"].answer = new Date(questionObject[\"ssi_max1_date\"].answer.setDate(questionObject[\"ssi_max1_date\"].answer.getDate() + 91)).toISOString()  \n}\nif (questionObject[\"surg_Obstetrics/Gynecology\"].show == true && (questionObject[\"surg_90days\"].answer_list.includes(questionObject[\"surg_Obstetrics/Gynecology\"].answer)))\n{\n    questionObject[\"ssi_max1_date\"].answer = new Date(questionObject[\"date_operation\"].answer)\n    questionObject[\"ssi_max1_date\"].answer = new Date(questionObject[\"ssi_max1_date\"].answer.setDate(questionObject[\"ssi_max1_date\"].answer.getDate() + 91)).toISOString()  \n}\nif (questionObject[\"surg_Urology\"].show == true && (questionObject[\"surg_90days\"].answer_list.includes(questionObject[\"surg_Urology\"].answer)))\n{\n    questionObject[\"ssi_max1_date\"].answer = new Date(questionObject[\"date_operation\"].answer)\n    questionObject[\"ssi_max1_date\"].answer = new Date(questionObject[\"ssi_max1_date\"].answer.setDate(questionObject[\"ssi_max1_date\"].answer.getDate() + 91)).toISOString()  \n}\nif (questionObject[\"surg_Orthopedics\"].show == true && (questionObject[\"surg_90days\"].answer_list.includes(questionObject[\"surg_Orthopedics\"].answer)))\n{\n    questionObject[\"ssi_max1_date\"].answer = new Date(questionObject[\"date_operation\"].answer)\n    questionObject[\"ssi_max1_date\"].answer = new Date(questionObject[\"ssi_max1_date\"].answer.setDate(questionObject[\"ssi_max1_date\"].answer.getDate() + 91)).toISOString()  \n}\nif (questionObject[\"surg_General\"].show == true && (questionObject[\"surg_90days\"].answer_list.includes(questionObject[\"surg_General\"].answer)))\n{\n    questionObject[\"ssi_max1_date\"].answer = new Date(questionObject[\"date_operation\"].answer)\n    questionObject[\"ssi_max1_date\"].answer = new Date(questionObject[\"ssi_max1_date\"].answer.setDate(questionObject[\"ssi_max1_date\"].answer.getDate() + 91)).toISOString()  \n}\nif (questionObject[\"surg_Neurosurgery\"].show == true && (questionObject[\"surg_90days\"].answer_list.includes(questionObject[\"surg_Neurosurgery\"].answer)))\n{\n    questionObject[\"ssi_max1_date\"].answer = new Date(questionObject[\"date_operation\"].answer)\n    questionObject[\"ssi_max1_date\"].answer = new Date(questionObject[\"ssi_max1_date\"].answer.setDate(questionObject[\"ssi_max1_date\"].answer.getDate() + 91)).toISOString()  \n}\n//---------------------------------------------------------------------------------------\n// Demographic Questions Rules - show/hide based on answers   \n//---------------------------------------------------------------------------------------\n// Rule Demo01 based on age show number of days, months, or years  \n//----------------------------------------------------------------  \nquestionObject[\"p_age_dd\"].show = false; questionObject[\"p_age_mm\"].show = false; questionObject[\"p_age_yy\"].show = false; questionObject[\"p_kg\"].show = false\nif (questionObject[\"p_age_q\"].answer == \"Age < month\") { questionObject[\"p_age_dd\"].show = true; questionObject[\"p_kg\"].show = true }\nelse if (questionObject[\"p_age_q\"].answer == \"Age â‰¤ 1 year\") { questionObject[\"p_age_mm\"].show = true; questionObject[\"p_kg\"].show = true }\nelse if (questionObject[\"p_age_q\"].answer == \"Age > 1 year\") { questionObject[\"p_age_yy\"].show = true }\n//---------------------------------------------------------------------------------------\n// Admissions Questions Rules -show/hide based on answers \n//---------------------------------------------------------------------------------------\n// Rule Adm01 based on come from ask for specifics  \n//-------------------------------------------------   \nquestionObject[\"ward_name\"].show = false; questionObject[\"come_from_icu\"].show = false; questionObject[\"ward_admit\"].show = false\nquestionObject[\"ward_admit_date\"].show = false; questionObject[\"p_come_from_q\"].show = false; questionObject[\"come_from_icu\"].show = false\nquestionObject[\"p_admit_diagnosis\"].show = false; questionObject[\"hos_admit_date\"].show = false \n// \t \t \t \nif (questionObject[\"p_surgical_op_q\"].answer == \"inpatient\")\n{\n    questionObject[\"ward_admit\"].show = true; questionObject[\"ward_admit_date\"].show = true; questionObject[\"hos_admit_date\"].show = true\n    questionObject[\"p_come_from_q\"].show = true; questionObject[\"p_admit_diagnosis\"].show = true\n    if (questionObject[\"p_come_from_q\"].answer == \"Another Ward (inside your hospital)\") { questionObject[\"ward_name\"].show = true }\n    if (questionObject[\"p_come_from_q\"].answer == \"ICU (inside your hospital)\") { questionObject[\"come_from_icu\"].show = true }    \n}\n//---------------------------------------------------------------------------------------\n// Clinical Findings Questions Rules -show/hide based on answers \n//---------------------------------------------------------------------------------------\nquestionObject[\"ssi_fever\"].show = false; questionObject[\"ssi_discharge\"].show = false; questionObject[\"ssi_discharge_from\"].show = false\nquestionObject[\"ssi_tender\"].show = false; questionObject[\"ssi_swell\"].show = false; questionObject[\"ssi_redness\"].show = false\nquestionObject[\"ssi_heat\"].show = false; questionObject[\"ssi_open_spont\"].show = false; questionObject[\"ssi_open_delib\"].show = false\nquestionObject[\"ssi_surg_ssi\"].show = false; questionObject[\"ssi_evidence\"].show = false\n//\nquestionObject[\"ssi_fever_date\"].show = false; questionObject[\"ssi_discharge_date\"].show = false; questionObject[\"ssi_tender_date\"].show = false\nquestionObject[\"ssi_swell_date\"].show = false; questionObject[\"ssi_redness_date\"].show = false; questionObject[\"ssi_heat_date\"].show = false\nquestionObject[\"ssi_open_spont_date\"].show = false; questionObject[\"ssi_open_spont_tissue\"].show = false; questionObject[\"ssi_open_delib_date\"].show = false\nquestionObject[\"ssi_open_delib_tissue\"].show = false; questionObject[\"ssi_surg_ssi_date\"].show = false\n// \nif (questionObject[\"p_surgical_op_q\"].answer == \"inpatient\") \n{\n    questionObject[\"ssi_fever\"].show = true; questionObject[\"ssi_discharge\"].show = true\n    questionObject[\"ssi_tender\"].show = true; questionObject[\"ssi_swell\"].show = true; questionObject[\"ssi_redness\"].show = true\n    questionObject[\"ssi_heat\"].show = true; questionObject[\"ssi_open_spont\"].show = true; questionObject[\"ssi_open_delib\"].show = true\n    questionObject[\"ssi_surg_ssi\"].show = true\n//\n    if (questionObject[\"ssi_fever\"].answer == \"Yes\" && questionObject[\"ssi_fever\"].show == true) { questionObject[\"ssi_fever_date\"].show = true }\n    if (questionObject[\"ssi_discharge\"].answer == \"Yes\" && questionObject[\"ssi_discharge\"].show == true) { questionObject[\"ssi_discharge_date\"].show = true; questionObject[\"ssi_discharge_from\"].show = true }\n    if (questionObject[\"ssi_tender\"].answer == \"Yes\" && questionObject[\"ssi_tender\"].show == true) { questionObject[\"ssi_tender_date\"].show = true }\n    if (questionObject[\"ssi_swell\"].answer == \"Yes\" && questionObject[\"ssi_swell\"].show == true) { questionObject[\"ssi_swell_date\"].show = true }\n    if (questionObject[\"ssi_redness\"].answer == \"Yes\" && questionObject[\"ssi_redness\"].show == true) { questionObject[\"ssi_redness_date\"].show = true }\n    if (questionObject[\"ssi_heat\"].answer == \"Yes\" && questionObject[\"ssi_heat\"].show == true) { questionObject[\"ssi_heat_date\"].show = true }\n    if (questionObject[\"ssi_open_spont\"].answer == \"Yes\" && questionObject[\"ssi_open_spont\"].show == true) { questionObject[\"ssi_open_spont_date\"].show = true }\n    if (questionObject[\"ssi_open_spont\"].answer == \"Yes\" && questionObject[\"ssi_open_spont\"].show == true) { questionObject[\"ssi_open_spont_tissue\"].show = true }\n    if (questionObject[\"ssi_open_delib\"].answer == \"Yes\" && questionObject[\"ssi_open_delib\"].show == true) { questionObject[\"ssi_open_delib_date\"].show = true }\n    if (questionObject[\"ssi_open_delib\"].answer == \"Yes\" && questionObject[\"ssi_open_delib\"].show == true) { questionObject[\"ssi_open_delib_tissue\"].show = true }\n    if (questionObject[\"ssi_surg_ssi\"].answer == \"Yes\" && questionObject[\"ssi_surg_ssi\"].show == true) { questionObject[\"ssi_surg_ssi_date\"].show = true; questionObject[\"ssi_evidence\"].show = true}\n}\n//\n//---------------------------------------------------------------------------------------\n// Investigation Rules -show/hide based on answers \n//---------------------------------------------------------------------------------------\nquestionObject[\"ssi_radio\"].show = false;  questionObject[\"ssi_culture\"].show = false\nquestionObject[\"ssi_radio_date\"].show = false; questionObject[\"ssi_radio_evidence\"].show = false\nquestionObject[\"ssi_culture_date\"].show = false; questionObject[\"ssi_culture_from\"].show = false; questionObject[\"ssi_cuture_result\"].show = false; questionObject[\"ssi_path_num\"].show = false\nquestionObject[\"ssi_path1_name\"].show = false; questionObject[\"ssi_isolate_no_01\"].show = false; questionObject[\"ssi_path2_name\"].show = false; questionObject[\"ssi_isolate_no_02\"].show = false\n//\nif (questionObject[\"p_surgical_op_q\"].answer == \"inpatient\") {questionObject[\"ssi_radio\"].show = true}\nif (questionObject[\"ssi_radio\"].answer == \"Yes\" && questionObject[\"ssi_radio\"].show == true) \n{ \n    questionObject[\"ssi_radio_date\"].show = true; questionObject[\"ssi_radio_evidence\"].show = true\n}\nquestionObject[\"ssi_culture\"].show = true\nif (questionObject[\"ssi_culture\"].answer == \"Yes\") \n{ \n    questionObject[\"ssi_culture_date\"].show = true; questionObject[\"ssi_culture_from\"].show = true\n    questionObject[\"ssi_cuture_result\"].show = true\n    if (questionObject[\"ssi_cuture_result\"].answer == \"Positive Culture\") \n    { \n        questionObject[\"ssi_path_num\"].show = true\n        if (questionObject[\"ssi_path_num\"].answer == \"1 pathogen\")\n        {\n            questionObject[\"ssi_path1_name\"].show = true\n            if (questionObject[\"ssi_path1_name\"].answer.length !=  0) {questionObject[\"ssi_isolate_no_01\"].show = true}\n        }\n        if (questionObject[\"ssi_path_num\"].answer == \"2 pathogens\")\n        {\n            questionObject[\"ssi_path1_name\"].show = true; questionObject[\"ssi_path2_name\"].show = true\n            if (questionObject[\"ssi_path1_name\"].answer.length !=  0) {questionObject[\"ssi_isolate_no_01\"].show = true}\n            if (questionObject[\"ssi_path2_name\"].answer.length !=  0) {questionObject[\"ssi_isolate_no_02\"].show = true}\n        }\n    }\n}\n//------------------------------------------------------------------------------------------------- \n// HAI conclusions - decide on infection type and doi \n//-------------------------------------------------------------------------------------------------\n// initial values \n//-------------------------------------------------------------------------------------------------\nquestionObject[\"infection_type\"].answer = \"Not met\"\nquestionObject[\"infection_location\"].answer = \" \"   \nquestionObject[\"doi\"].answer = 0\nquestionObject[\"doi\"].show = false\n// -------------------------------------------------------------------------------------------\n// HAI03 SSI   \n// check symptoms and culture within 30/90 days after date of operation \n//--------------------------------------------------------------------------------------------  \n// 3.1. No window period in SSI  \n// 3.2. decide the infection type \n// 3.3. decide date of infection doi\n//-----------------------------------------------------------------------------------------\n// 3.2. decide infection type  \n//-----------------------------------------------------------------------------------------\nif (questionObject[\"p_surgical_op_q\"].answer == \"outpatient\")\n{\n    if (questionObject[\"ssi_out_ssi_doi\"].answer > questionObject[\"date_operation\"].answer && \n        questionObject[\"ssi_out_ssi_doi\"].answer < questionObject[\"ssi_max1_date\"].answer) \n    {\n        questionObject[\"infection_type\"].answer = questionObject[\"ssi_out_ssi_type\"].answer\n        questionObject[\"doi\"].answer = questionObject[\"ssi_out_ssi_doi\"].answer\n        questionObject[\"doi\"].show = true\n    }\n}\n//\nif (questionObject[\"p_surgical_op_q\"].answer == \"inpatient\")\n{\n// Superficial Incisional SSI\n//-------------------------------\n    questionObject[\"ssi_c01\"].answer = 0 \n    if (questionObject[\"ssi_redness\"].answer == \"Yes\" && questionObject[\"ssi_redness_date\"].answer > questionObject[\"date_operation\"].answer && questionObject[\"ssi_redness_date\"].answer < questionObject[\"ssi_max1_date\"].answer){questionObject[\"ssi_c01\"].answer = questionObject[\"ssi_c01\"].answer + 1}\n    if (questionObject[\"ssi_tender\"].answer == \"Yes\" && questionObject[\"ssi_tender_date\"].answer > questionObject[\"date_operation\"].answer && questionObject[\"ssi_tender_date\"].answer < questionObject[\"ssi_max1_date\"].answer){questionObject[\"ssi_c01\"].answer = questionObject[\"ssi_c01\"].answer + 1}\n    if (questionObject[\"ssi_swell\"].answer == \"Yes\" && questionObject[\"ssi_swell_date\"].answer > questionObject[\"date_operation\"].answer && questionObject[\"ssi_swell_date\"].answer < questionObject[\"ssi_max1_date\"].answer){questionObject[\"ssi_c01\"].answer = questionObject[\"ssi_c01\"].answer + 1}\n    if (questionObject[\"ssi_heat\"].answer == \"Yes\" && questionObject[\"ssi_heat_date\"].answer > questionObject[\"date_operation\"].answer && questionObject[\"ssi_heat_date\"].answer < questionObject[\"ssi_max1_date\"].answer){questionObject[\"ssi_c01\"].answer = questionObject[\"ssi_c01\"].answer + 1}\n//\n    if ((questionObject[\"ssi_discharge\"].answer == \"Yes\" && \n         questionObject[\"ssi_discharge_date\"].answer > questionObject[\"date_operation\"].answer && \n         questionObject[\"ssi_discharge_date\"].answer < questionObject[\"ssi_max1_date\"].answer &&\n         questionObject[\"ssi_discharge_from\"].answer == \"Skin and subcutaneous tissue\") \n            ||\n        (questionObject[\"ssi_culture\"].answer == \"Yes\" && \n         questionObject[\"ssi_culture_date\"].answer > questionObject[\"date_operation\"].answer && \n         questionObject[\"ssi_culture_date\"].answer < questionObject[\"ssi_max1_date\"].answer &&\n         questionObject[\"ssi_culture_from\"].answer == \"skin and subcutaneous tissue\" && questionObject[\"ssi_cuture_result\"].answer == \"Positive Culture\")\n            ||\n        (questionObject[\"ssi_surg_ssi\"].answer == \"Yes\" && \n         questionObject[\"ssi_surg_ssi_date\"].answer > questionObject[\"date_operation\"].answer && \n         questionObject[\"ssi_surg_ssi_date\"].answer < questionObject[\"ssi_max1_date\"].answer &&\n         questionObject[\"ssi_evidence\"].answer == \"Skin and subcutaneous tissue\")\n            ||\n        (questionObject[\"ssi_open_delib\"].answer == \"Yes\" && \n         questionObject[\"ssi_open_delib_date\"].answer > questionObject[\"date_operation\"].answer && \n         questionObject[\"ssi_open_delib_date\"].answer < questionObject[\"ssi_max1_date\"].answer &&\n         questionObject[\"ssi_evidence\"].answer == \"Skin and subcutaneous tissue\" &&\n         questionObject[\"ssi_c01\"].answer >= 1))\n    {\n        questionObject[\"infection_type\"].answer = \"Superficial Incisional SSI\"\n    }  \n//-------------------------------\n// Deep Incisional SSI \n//-------------------------------\n    questionObject[\"ssi_c02\"].answer = 0 \n    if (questionObject[\"ssi_fever\"].answer == \"Yes\" && questionObject[\"ssi_fever_date\"].answer > questionObject[\"date_operation\"].answer && questionObject[\"ssi_fever_date\"].answer < questionObject[\"ssi_max2_date\"].answer ){questionObject[\"ssi_c02\"].answer = questionObject[\"ssi_c02\"].answer + 1}\n    if (questionObject[\"ssi_tender\"].answer == \"Yes\" && questionObject[\"ssi_tender_date\"].answer > questionObject[\"date_operation\"].answer && questionObject[\"ssi_tender_date\"].answer < questionObject[\"ssi_max2_date\"].answer){questionObject[\"ssi_c02\"].answer = questionObject[\"ssi_c02\"].answer + 1}\n//\n    if ((questionObject[\"ssi_discharge\"].answer == \"Yes\" && \n         questionObject[\"ssi_discharge_date\"].answer > questionObject[\"date_operation\"].answer && \n         questionObject[\"ssi_discharge_date\"].answer < questionObject[\"ssi_max1_date\"].answer &&\n         questionObject[\"ssi_discharge_from\"].answer == \"Fascial and muscle layers\") \n            ||\n        (questionObject[\"ssi_culture\"].answer == \"Yes\" && \n         questionObject[\"ssi_culture_date\"].answer > questionObject[\"date_operation\"].answer && \n         questionObject[\"ssi_culture_date\"].answer < questionObject[\"ssi_max1_date\"].answer &&\n         questionObject[\"ssi_culture_from\"].answer == \"Fascial and muscle layers\" && questionObject[\"ssi_cuture_result\"].answer == \"Positive Culture\")\n            ||\n        (questionObject[\"ssi_radio\"].answer == \"Yes\" && \n         questionObject[\"ssi_radio_date\"].answer > questionObject[\"date_operation\"].answer && \n         questionObject[\"ssi_radio_date\"].answer < questionObject[\"ssi_max1_date\"].answer &&\n         questionObject[\"ssi_radio_evidence\"].answer == \"Fascial and muscle layers\")\n            ||\n        (questionObject[\"ssi_open_delib\"].answer == \"Yes\" && \n         questionObject[\"ssi_open_delib_date\"].answer > questionObject[\"date_operation\"].answer && \n         questionObject[\"ssi_open_delib_date\"].answer < questionObject[\"ssi_max1_date\"].answer &&\n         questionObject[\"ssi_culture\"].answer == \"No\"  &&\n         questionObject[\"ssi_c02\"].answer >= 1)\n            ||\n        (questionObject[\"ssi_open_spont\"].answer == \"Yes\" && \n         questionObject[\"ssi_open_spont\"].answer > questionObject[\"date_operation\"].answer && \n         questionObject[\"ssi_open_spont_date\"].answer < questionObject[\"ssi_max1_date\"].answer &&\n         questionObject[\"ssi_culture\"].answer == \"No\"  &&\n         questionObject[\"ssi_c02\"].answer >= 1)) \n    {\n        questionObject[\"infection_type\"].answer = \"Deep Incisional SSI\"\n    }\n//-------------------------------\n// Organ/Space Incisional SSI\n//-------------------------------\n    if ((questionObject[\"ssi_discharge\"].answer == \"Yes\" && \n         questionObject[\"ssi_discharge_date\"].answer > questionObject[\"date_operation\"].answer && \n         questionObject[\"ssi_discharge_date\"].answer < questionObject[\"ssi_max1_date\"].answer &&\n         questionObject[\"ssi_discharge_from\"].answer == \"Drain that is placed into the organ/space\") \n            ||\n        (questionObject[\"ssi_culture\"].answer == \"Yes\" && \n         questionObject[\"ssi_culture_date\"].answer > questionObject[\"date_operation\"].answer && \n         questionObject[\"ssi_culture_date\"].answer < questionObject[\"ssi_max1_date\"].answer &&\n         questionObject[\"ssi_culture_from\"].answer == \"Drain that is placed into the organ/space\" && questionObject[\"ssi_cuture_result\"].answer == \"Positive Culture\")\n            ||\n        (questionObject[\"ssi_radio\"].answer == \"Yes\" && \n         questionObject[\"ssi_radio_date\"].answer > questionObject[\"date_operation\"].answer && \n         questionObject[\"ssi_radio_date\"].answer < questionObject[\"ssi_max1_date\"].answer &&\n         questionObject[\"ssi_radio_evidence\"].answer == \"Organ/Space\")) \n    {\n        questionObject[\"infection_type\"].answer = \"Organ/Space Incisional SSI\"\n    }\n//-----------------------------------------------------------------------------------------\n// 3.3. decide SSI doi   \n//-----------------------------------------------------------------------------------------\n    if (questionObject[\"infection_type\"].answer == \"Superficial Incisional SSI\")\n    {\n        questionObject[\"doi\"].answer = questionObject[\"ssi_max1_date\"].answer \n        questionObject[\"doi\"].show = true\n        if (questionObject[\"ssi_redness_date\"].answer < questionObject[\"doi\"].answer && questionObject[\"ssi_redness_date\"].answer > questionObject[\"date_operation\"].answer && questionObject[\"ssi_redness_date\"].show == true) {questionObject[\"doi\"].answer = questionObject[\"ssi_redness_date\"].answer}\n        if (questionObject[\"ssi_tender_date\"].answer < questionObject[\"doi\"].answer && questionObject[\"ssi_tender_date\"].answer > questionObject[\"date_operation\"].answer && questionObject[\"ssi_tender_date\"].show == true) {questionObject[\"doi\"].answer = questionObject[\"ssi_tender_date\"].answer}\n        if (questionObject[\"ssi_swell_date\"].answer < questionObject[\"doi\"].answer && questionObject[\"ssi_swell_date\"].answer > questionObject[\"date_operation\"].answer&& questionObject[\"ssi_swell_date\"].show == true) {questionObject[\"doi\"].answer = questionObject[\"ssi_swell_date\"].answer}\n        if (questionObject[\"ssi_heat_date\"].answer < questionObject[\"doi\"].answer && questionObject[\"ssi_heat_date\"].answer > questionObject[\"date_operation\"].answer && questionObject[\"ssi_heat_date\"].show == true) {questionObject[\"doi\"].answer = questionObject[\"ssi_heat_date\"].answer}\n        if (questionObject[\"ssi_discharge_date\"].answer < questionObject[\"doi\"].answer && questionObject[\"ssi_discharge_date\"].answer > questionObject[\"date_operation\"].answer && questionObject[\"ssi_discharge_date\"].show == true) {questionObject[\"doi\"].answer = questionObject[\"ssi_discharge_date\"].answer}\n        if (questionObject[\"ssi_culture_date\"].answer < questionObject[\"doi\"].answer && questionObject[\"ssi_culture_date\"].answer > questionObject[\"date_operation\"].answer&& questionObject[\"ssi_culture_date\"].show == true) {questionObject[\"doi\"].answer = questionObject[\"ssi_culture_date\"].answer}\n        if (questionObject[\"ssi_surg_ssi_date\"].answer < questionObject[\"doi\"].answer && questionObject[\"ssi_surg_ssi_date\"].answer > questionObject[\"date_operation\"].answer && questionObject[\"ssi_surg_ssi_date\"].show == true) {questionObject[\"doi\"].answer = questionObject[\"ssi_surg_ssi_date\"].answer}\n        if (questionObject[\"ssi_open_delib_date\"].answer < questionObject[\"doi\"].answer && questionObject[\"ssi_open_delib_date\"].answer > questionObject[\"date_operation\"].answer && questionObject[\"ssi_open_delib_date\"].show == true) {questionObject[\"doi\"].answer = questionObject[\"ssi_open_delib_date\"].answer}\n    }\n    if (questionObject[\"infection_type\"].answer == \"Deep Incisional SSI\")\n    {\n        questionObject[\"doi\"].answer = questionObject[\"ssi_max1_date\"].answer \n        questionObject[\"doi\"].show = true\n        if (questionObject[\"ssi_fever_date\"].answer < questionObject[\"doi\"].answer && questionObject[\"ssi_fever_date\"].answer > questionObject[\"date_operation\"].answer && questionObject[\"ssi_fever_date\"].show == true) {questionObject[\"doi\"].answer = questionObject[\"ssi_fever_date\"].answer}\n        if (questionObject[\"ssi_tender_date\"].answer < questionObject[\"doi\"].answer && questionObject[\"ssi_tender_date\"].answer > questionObject[\"date_operation\"].answer && questionObject[\"ssi_tender_date\"].show == true) {questionObject[\"doi\"].answer = questionObject[\"ssi_tender_date\"].answer}\n        if (questionObject[\"ssi_radio_date\"].answer < questionObject[\"doi\"].answer && questionObject[\"ssi_radio_date\"].answer > questionObject[\"date_operation\"].answer&& questionObject[\"ssi_radio_date\"].show == true) {questionObject[\"doi\"].answer = questionObject[\"ssi_radio_date\"].answer}\n        if (questionObject[\"ssi_open_spont_date\"].answer < questionObject[\"doi\"].answer && questionObject[\"ssi_open_spont_date\"].answer > questionObject[\"date_operation\"].answer && questionObject[\"ssi_open_spont_date\"].show == true) {questionObject[\"doi\"].answer = questionObject[\"ssi_open_spont_date\"].answer}\n        if (questionObject[\"ssi_discharge_date\"].answer < questionObject[\"doi\"].answer && questionObject[\"ssi_discharge_date\"].answer > questionObject[\"date_operation\"].answer && questionObject[\"ssi_discharge_date\"].show == true) {questionObject[\"doi\"].answer = questionObject[\"ssi_discharge_date\"].answer}\n        if (questionObject[\"ssi_culture_date\"].answer < questionObject[\"doi\"].answer && questionObject[\"ssi_culture_date\"].answer > questionObject[\"date_operation\"].answer&& questionObject[\"ssi_culture_date\"].show == true) {questionObject[\"doi\"].answer = questionObject[\"ssi_culture_date\"].answer}\n        if (questionObject[\"ssi_open_delib_date\"].answer < questionObject[\"doi\"].answer && questionObject[\"ssi_open_delib_date\"].answer > questionObject[\"date_operation\"].answer && questionObject[\"ssi_open_delib_date\"].show == true) {questionObject[\"doi\"].answer = questionObject[\"ssi_open_delib_date\"].answer}\n    }\n    if (questionObject[\"infection_type\"].answer == \"Organ/Space Incisional SSI\")\n    {\n        questionObject[\"doi\"].answer = questionObject[\"ssi_max1_date\"].answer \n        questionObject[\"doi\"].show = true\n        if (questionObject[\"ssi_discharge_date\"].answer < questionObject[\"doi\"].answer && questionObject[\"ssi_discharge_date\"].answer > questionObject[\"date_operation\"].answer && questionObject[\"ssi_discharge_date\"].show == true) {questionObject[\"doi\"].answer = questionObject[\"ssi_discharge_date\"].answer}\n        if (questionObject[\"ssi_culture_date\"].answer < questionObject[\"doi\"].answer && questionObject[\"ssi_culture_date\"].answer > questionObject[\"date_operation\"].answer&& questionObject[\"ssi_culture_date\"].show == true) {questionObject[\"doi\"].answer = questionObject[\"ssi_culture_date\"].answer}\n        if (questionObject[\"ssi_radio_date\"].answer < questionObject[\"doi\"].answer && questionObject[\"ssi_radio_date\"].answer > questionObject[\"date_operation\"].answer&& questionObject[\"ssi_radio_date\"].show == true) {questionObject[\"doi\"].answer = questionObject[\"ssi_radio_date\"].answer}\n    }\n}\n//----------------------------------------------\n// infection location only in case of inpatient \n//----------------------------------------------- \nquestionObject[\"infection_location\"].show = false\nif (questionObject[\"p_surgical_op_q\"].answer == \"inpatient\")\n{\n    if (questionObject[\"infection_type\"].answer != \"Not met\") \n    {\n        questionObject[\"infection_location\"].show = true\n        questionObject[\"doi_d\"].answer = new Date(questionObject[\"doi\"].answer).valueOf() / (1000 * 3600 * 24)\n        questionObject[\"ward_d\"].answer = new Date(questionObject[\"ward_admit_date\"].answer).valueOf() / (1000 * 3600 * 24)\n        questionObject[\"hos_d\"].answer = new Date(questionObject[\"hos_admit_date\"].answer).valueOf() / (1000 * 3600 * 24)\n        questionObject[\"infection_location\"].answer = \"Present on Hospital admission\"\n        if ( (questionObject[\"doi_d\"].answer - questionObject[\"hos_d\"].answer) > 2 && (questionObject[\"p_surgical_op_q\"].answer == \"inpatient\") ) \n        {\n            questionObject[\"infection_location\"].answer = \"Hospital-acquired Infection\"\n            if  ((questionObject[\"doi_d\"].answer - questionObject[\"ward_d\"].answer) > 2 )\n            {\n                questionObject[\"infection_location\"].answer = \"SSI due to operation inside the hospital\"\n            }\n        }\n    }\n    else\n    {\n        questionObject[\"doi\"].show = false\n    }\n}\n// ---------------------------------------------------------------------\n// Outcome section rules\n// ----------------------------------------------------------------------\nquestionObject[\"ssi_outcome_date\"].show = false; questionObject[\"ssi_outcome\"].show = false\n//\nif (questionObject[\"p_surgical_op_q\"].answer == \"inpatient\")\n{\n    questionObject[\"ssi_outcome\"].show = true\n    if (questionObject[\"ssi_outcome\"].answer == \"Discharged\" || questionObject[\"ssi_outcome\"].answer == \"Died\" || questionObject[\"ssi_outcome\"].answer == \"Transferred\" || questionObject[\"ssi_outcome\"].answer == \"Surveillance ended\") \n    {\n        questionObject[\"ssi_outcome_date\"].show = true\n    }\n}\n// -------------------------------------------------------------------------------\n// isolate numbers will only be shown and generated if there is infection detected\n// ------------------------------------------------------------------------------- \nif (questionObject[\"infection_type\"].answer == \"Not met\") \n{\n    questionObject[\"ssi_isolate_no_01\"].show = false; questionObject[\"ssi_isolate_no_02\"].show = false\n}\n//"
}